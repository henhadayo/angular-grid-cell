<div [align]="column.align ? column.align : 'right'" [class]="column.containerClass ? column.containerClass : ''">
  <div *ngFor="let rowData of rowDataArray">
    <span *ngFor='let columnElement of column.elements' [ngSwitch]="columnElement.type">
      <span *ngSwitchCase="'datetime'" (click)='columnElement.onClick(rowData);'>
        <span [ngSwitch]="columnElement.pipe">
          <span *ngSwitchCase="'amDateFormat'"
            [ngClass]="columnElement.getNgClass ? (columnElement.getNgClass | cellFunction: rowData) : {}">
            {{rowData[columnElement.field] | amDateFormat:columnElement.format}}
          </span>
          <span *ngSwitchCase="'amTimeAgo'"
            [ngClass]="columnElement.getNgClass ? (columnElement.getNgClass | cellFunction: rowData) : {}">
            {{rowData[columnElement.field] | amTimeAgo}}
          </span>
          <span *ngSwitchCase="'amCalendar'"
            [ngClass]="columnElement.getNgClass ? (columnElement.getNgClass | cellFunction: rowData) : {}">
            {{rowData[columnElement.field] | amCalendar}}
          </span>
        </span>
      </span>
      <span *ngSwitchCase="'icon'">
  
        <span [ngSwitch]="columnElement.showIcon ? (columnElement.showIcon | cellFunction: rowData) : undefined"
          (click)='columnElement.onClick(rowData);'>
          <span *ngSwitchCase="undefined">
            <span [ngSwitch]="columnElement.field === undefined">
              <span *ngSwitchCase="true">
                <i [ngClass]="columnElement.iconClass ? (columnElement.iconClass | cellFunction: rowData) : {}"
                  [pTooltip]='columnElement.tooltip' tooltipPosition="left"></i>
              </span>
              <span *ngSwitchCase="false">
                <i *ngIf="rowData[columnElement.field]"
                  [ngClass]="columnElement.iconClass ? (columnElement.iconClass | cellFunction: rowData) : {}"
                  [pTooltip]='columnElement.tooltip' tooltipPosition="left"></i>
              </span>
            </span>
          </span>
          <span *ngSwitchCase="true">
            <i [ngClass]="columnElement.iconClass ? (columnElement.iconClass | cellFunction: rowData) : {}"
              [pTooltip]='columnElement.tooltip' tooltipPosition="left"></i>
          </span>
        </span>
      </span>
      <span *ngSwitchCase="'image'">
        <span *ngIf="columnElement.showImage ? (columnElement.showImage | cellFunction: rowData) : true"
          (click)='columnElement.onClick(rowData);'>
          <img #imageElement [class]="columnElement.class"
            [src]='columnElement.image ? (columnElement.image | cellFunction: rowData) : null' alt="" (error)="columnElement.errorImage? imageElement.src = columnElement.errorImage : imageElement.src = null"
            [pTooltip]='columnElement.tooltip' tooltipPosition="left" [style.width]="columnElement.width">
        </span>
      </span>
      <span *ngSwitchCase="'text'" [class]="columnElement.class" 
        [ngClass]="columnElement.getNgClass ? (columnElement.getNgClass | cellFunction: rowData) : {}"
        [pTooltip]='columnElement.tooltip' tooltipPosition="left" (click)='columnElement.onClick(rowData);'>
        <span [ngSwitch]="columnElement.field.constructor.name">
          <span *ngSwitchCase="'Function'">
            {{columnElement.field | cellFunction: rowData}}
          </span>
          <span *ngSwitchCase="'String'">
            <ng-container *ngIf="columnElement.field.indexOf('.') !== -1; else elseTemplate">
              {{rowData | cellNestedField: columnElement.field}}
            </ng-container>
            <ng-template #elseTemplate>
              {{rowData[columnElement.field]}}
            </ng-template>
          </span>
        </span>
      </span>
      <span *ngSwitchCase="'button'">
        <button [class]="columnElement.class" [ngClass]="columnElement.buttonStyle" [pTooltip]='columnElement.tooltip'
          tooltipPosition="left" (click)='columnElement.onClick(rowData);'>
          {{columnElement.buttonText}}
        </button>
      </span>
    </span>
  </div>
</div>